jQuery(function(t){var r=function(r,n){return n.children().each(function(){t(this).width(t(this).width())}),n};t('.group[id$="_order"]').addClass("group-order"),t('.group[id$="_order"] tbody').sortable({helper:r,stop:function(r,n){var o=n.item.closest(".group-order");t("tr",o).each(function(r){var n=t(this),o=t(".count",n);o.text(r+1);var e=t("input",n);e.val(r)})}}).disableSelection(),t(".group-order").each(function(){t("tr",this).each(function(r){var n,o=t(this),e=t("th",o),i=t("input",o);""!==i.val()?n=parseInt(t("input",o).val()):(n=r,i.val(r)),t('<span class="count"/>').text(n+1).appendTo(e)})})});